<html>
   <head>
      <meta charset="UTF-8">
   </head>
   <body>
      <video controls width = "300" height = "300">
         <source src = "movie.mp4" type = "video/mp4"></source>
      </video>
      <canvas id = "canvas" hidden></canvas>
      <button id = "snap" download="image.jpeg" onclick = "snap()">Snapshot</button>
      <a id="download" download="image.jpeg" onclick="snap()">link</a>
      <image src="" id="theimage"></image>
      <script>
         var video = document.querySelector('video');
         var canvas = document.querySelector('canvas');
         var context = canvas.getContext('2d');
         var myWidth, myHeight, ratio;
         
         video.addEventListener('loadedmetadata', function() {
            //ratio = video.videoWidth/video.videoHeight;
            //myWidth = video.videoWidth-100;
            //myHeight = parseInt(ratio,10);
            var reader = new FileReader();
                       
            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;
            
            

         },false);
      function snap() {
            context.fillRect(0,0,canvas.width,canvas.height);
            context.drawImage(video,100,0,canvas.width,canvas.height);
            var download = document.getElementById("download");   
         
         	var imageUrl = canvas.toDataURL("image/png")
                  .replace("image/png", "image/octet-stream");
         	
         	download.setAttribute("href", imageUrl);
         	//document.getElementById("theimage").src = imageUrl;
      }
 		
 		
 		
       
      </script>
   </body>
</html>